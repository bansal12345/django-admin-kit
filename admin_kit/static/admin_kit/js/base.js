!function(t){function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}var n={};i.m=t,i.c=n,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=0)}([function(t,i,n){t.exports=n(1)},function(t,i,n){"use strict";function e(t,i){for(var n=t.attr("name"),e=0;e<t.parents(".module").length-1;e++)n=n.replace(/-\d+/,"");if(!(void 0==n||n.indexOf("__prefix__")>=0)&&"hidden"!=t.attr("type")){var a=n.split("-");a[a.length-1];return n.replace(i+"-","")}}!function(t){function i(t,i){var e=u(t);t.hasClass("dirty")||null!=t.val()&&""!=t.val()||n(t,i,e)}function n(t,i,n){var e=t.children().eq(0).clone();t.empty(),i&&0!=i.length||t.append(e);for(var a in i){var r=e.clone();r.text(i[a][0]),r.attr("value",i[a][1]),!0===n||!0===n[i[a][1]]?r.attr("selected","selected"):r.attr("selected",null),t.append(r)}}function a(n,e,a){var r=window.AdminKitConfig.appName+"/ajax/"+e+"/";t.ajax({method:"get",url:r,data:{q:a},success:function(t){i(n,t)}})}function r(i,e){var a;e.indexOf(":")>=0&&(a=e.slice(e.indexOf(":")+1),e=e.slice(0,e.indexOf(":")));var r=window.AdminKitConfig.appName+"/ajax/"+e+"/",o=i.val();i.hasClass("dirty")||o||!i.kitAttr("init-value")||(o=i.kitAttr("init-value").split(",")),t.ajax({method:"get",url:r,data:{q:o},success:function(t){var r=i.parents(".module").eq(0);if(void 0==t.no_return&&1!=t.no_return)if(void 0!=a){var o=r.parent().attr("id"),d=o+"-"+a,l=r.find("#id_"+d);l.val(t)}else for(var l=r.kitFind({"ajax-source":e,"ajax-subscribe":!0}),c=0;c<l.length;c++)n(l.eq(c),t,u(l.eq(c)))}})}function o(t,n,e){t.hasClass("admin-kit-select")&&(1!=e&&i(t,n),d(t,n))}function d(t,i){void 0!=t.kitAttr("ajax-source")&&a(t,t.kitAttr("ajax-source"),""),void 0!=t.kitAttr("ajax-target")&&r(t,t.kitAttr("ajax-target"),i)}function l(i){o(i,[],!0),i.on("change",function(){t(this).addClass("dirty"),d(i,i.val())})}function u(t){var i={};if(void 0!=t.kitAttr("init-value")&&""!=t.kitAttr("init-value")){var n=t.kitAttr("init-value").split(",");for(var e in n)n[e]&&(i[n[e]]=!0)}return i}function c(t,i,n,a){var r=t.find(":input"),o=i.find(":input"),d={};void 0==n&&(n=t.attr("id")),void 0==a&&(a=i.attr("id"));for(var l=0;l<o.length;l++){var u=e(o.eq(l),a);u&&(d[u]=l)}for(var l=0;l<r.length;l++){var c=e(r.eq(l),n);if(c){var f=o.eq(d[c]);r.eq(l).val(f.val()),f.hasClass("admin-kit")&&r.eq(l).kitAttr("init-value",f.kitVal())}}}t.fn.kitAttr=function(i,n){var e=t(this).attr("data-kit-config");if(void 0==e)return e;var a=JSON.parse(e);if(void 0==n)return a[i];a[i]=n,t(this).attr("data-kit-config",JSON.stringify(a))},t.fn.kitVal=function(){var i=t(this).val();return void 0!=i&&void 0!=t(this).attr("multiple")&&(i=t(this).val().join()),i},t.fn.kitFind=function(i){return this.find(".admin-kit").filter(function(){for(var n in i)if(t(this).kitAttr(n)!=i[n])return!1;return!0})},t(document).ready(function(){console.log("Ready"),t(".admin-kit").each(function(){l(t(this))}),window.AdminKitConfig.duplicate&&t(".module").each(function(){var i=t(this).children(".add-row"),n=i.clone(),e=n.children("a");e.text("Add a Duplicate"),e.click(function(t){return t.preventDefault(),n.parent().attr("data-duplicate",!0),i.children("a").click(),t.stopImmediatePropagation(),!1}),t(this).append(n)}),t(document).on("formset:added",function(i,n,e){var a=n.parents(".module");if(console.log("Added!!!"),window.AdminKitConfig.duplicate&&a.attr("data-duplicate")){c(n,n.prev()),a.attr("data-duplicate",null);for(var r=n.find(".add-row"),o=n.prev().find(".add-row"),d=0;d<r.length;d++){for(var u=o.eq(d).parents(".module").eq(0),f=r.eq(d).parents(".module").eq(0),s=u.children("input[name$=TOTAL_FORMS]"),v=0;v<s.val();v++)r.eq(d).find("a").click();c(f,u,f.children("input[name$=TOTAL_FORMS]").attr("id").replace("-TOTAL_FORMS",""),u.children("input[name$=TOTAL_FORMS]").attr("id").replace("-TOTAL_FORMS",""))}}n.find(".admin-kit").each(function(){l(t(this))})})})}(django.jQuery)}]);